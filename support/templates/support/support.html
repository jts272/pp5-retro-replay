{% extends "base.html" %}
{% block title %}
  Retro Replay | Support
{% endblock title %}
{% block content %}
  <div class="row">
    <div class="col-12">
      <h2>Support</h2>
      <hr />
      <!-- FAQ section -->
      <h5>Frequently asked questions</h5>
      <hr />
      <!-- Bootstrap 5 accordion -->
      <!-- https://getbootstrap.com/docs/5.3/components/accordion/#example -->
      <div class="accordion" id="accordionExample">
        {% for faq in faqs %}
          <div class="accordion-item">
            <h2 class="accordion-header">
              <button class="accordion-button collapsed"
                      type="button"
                      data-bs-toggle="collapse"
                      data-bs-target="#collapse-{{ forloop.counter }}"
                      aria-expanded="false"
                      aria-controls="collapse-{{ forloop.counter }}">{{ faq.question }}</button>
            </h2>
            <div id="collapse-{{ forloop.counter }}"
                 class="accordion-collapse collapse"
                 data-bs-parent="#accordionExample">
              <div class="accordion-body">{{ faq.answer|safe }}</div>
            </div>
          </div>
        {% endfor %}
      </div>
      {% if user.is_superuser %}
        <!-- Add FAQ control -->
        <div class="row border rounded p-2 m-2 bg-success-subtle text-end">
          <a href="{% url 'support:add_faq' %}"
             class="text-decoration-none link-dark">
            Add a new FAQ <i class="bi bi-chevron-right"></i>
          </a>
        </div>
        <!-- END Add FAQ control -->
      {% endif %}
      <!-- END FAQ section -->
    </div>
  </div>
{% endblock content %}
